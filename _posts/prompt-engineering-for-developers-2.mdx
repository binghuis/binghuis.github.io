---
title: LLM 提示词最佳实践：提示词指南
description: 吴恩达《ChatGPT Prompt Engineering for Developers》内容提炼
date: 2023-06-4
---

> 本节主要内容为 Prompt 编写原则，在本节中，我们将给出两个编写 Prompt 的原则和与之相关的策略。

## 两个基本原则

- 编写清晰、具体的指令

- 给模型时间去思考

### 1. 编写清晰、具体的指令

你应该通过提供尽可能清晰和具体的指令来表达您希望模型执行的操作。这将引导模型给出正确的输出，并减少你得到无关或不正确响应的可能。
编写清晰的指令不意味着简短的指令，在许多情况下，更长的提示实际上更清晰且提供了更多上下文，因此会得到更详细更相关的输出。

<CH.Scrollycoding>
#### 策略一：使用分隔符清晰地表示输入的不同部分，分隔符可以是：_`\\\`_，_`""`_，_`<>`_，_`<tag><\tag>`_ 等

你可以使用任何明显的标点符号将文本部分和提示词部分分开。这可以是任何可以使模型明确知道这是一个单独部分的标记。
使用分隔符是一种可以避免提示注入的有用技术（提示注入是指用户输入内容混到了提示词中，即向模型发送的指令实际上非用户本意）。
因此，使用分隔符是一个不错的策略。

右边是一个例子，我们给出一段话并要求 GPT 进行总结，在该示例中我们使用 _` ``` `_ 来作为分隔符

````py prompt1.1.py
text = f"""
你应该提供尽可能清晰、具体的指示，以表达你希望模型执行的任务。
这将引导模型朝向所需的输出，并降低收到无关或不正确响应的可能
性。不要将写清晰的提示与写简短的提示混淆。在许多情况下，更
长的提示可以为模型提供更多的清晰度和上下文信息，从而导致更详
细和相关的输出
"""
prompt = f"""
把用三个反引号括起来的文本总结成一句话。
```{text}```
"""
````

---

#### 策略二：要求一个结构化的输出，可以是 Json、HTML 等格式

第二个策略是要求生成一个结构化的输出，这可以使模型的输出更容易被我们解析，例如，你可以在 Python 中将其读入字典或列表中。

在以下示例中，我们要求 GPT 生成三本书的标题、作者和类别，并要求 GPT 以 Json 的格式返回给我们，为便于解析，我们指定了 Json 的键。

```py prompt1.2.py
prompt = f"""
请生成包括书名、作者和类别的三本虚构书籍清单，
并以 JSON 格式提供，其中包含以下键:book_id、
title、author、genre。
"""
# 输出结果
# {
#   "books": [
#     {
#       "book_id": 1,
#       "title": "The Shadow of the Wind",
#       "author": "Carlos Ruiz Zafón",
#       "genre": "Mystery"
#     },
#     {
#       "book_id": 2,
#       "title": "The Name of the Wind",
#       "author": "Patrick Rothfuss",
#       "genre": "Fantasy"
#     },
#     {
#       "book_id": 3,
#       "title": "The Hitchhiker's Guide to the Galaxy",
#       "author": "Douglas Adams",
#       "genre": "Science Fiction"
#     }
#   ]
# }
```

---

#### 策略三：要求模型检查是否满足条件

如果任务做出的假设不一定满足，我们可以告诉模型先检查这些假设，如果不满足，指示并停止执行。你还可以考虑潜在的边缘情况以及模型应该如何处理它们，以避免意外的错误或结果。

在如下示例中，我们将分别给模型两段文本，分别是制作茶的步骤以及一段没有明确步骤的文本。我们将要求模型判断其是否包含一系列指令，如果包含则按照给定格式重新编写指令，不包含则回答未提供步骤。

```py prompt1.3.py
# 有步骤的文本
text = f"""
泡一杯茶很容易。首先，需要把水烧开。\
在等待期间，拿一个杯子并把茶包放进去。\
一旦水足够热，就把它倒在茶包上。\
等待一会儿，让茶叶浸泡。几分钟后，取出茶包。\
如果你愿意，可以加一些糖或牛奶调味。\
就这样，你可以享受一杯美味的茶了。
"""
prompt = f"""
您将获得由三个引号括起来的文本。\
如果它包含一系列的指令，则需要按照以下格式重新编写这些指令：

第一步 - ...
第二步 - ...
...
第N步 - ...

如果文本中不包含一系列的指令，则直接写“未提供步骤”。"
\"\"\"{text}\"\"\"
"""

# 输出结果
# 第一步 - 把水烧开。
# 第二步 - 拿一个杯子并把茶包放进去。
# 第三步 - 把烧开的水倒在茶包上。
# 第四步 - 等待几分钟，让茶叶浸泡。
# 第五步 - 取出茶包。
# 第六步 - 如果你愿意，可以加一些糖或牛奶调味。
# 第七步 - 就这样，你可以享受一杯美味的茶了。
```

---

无步骤的文本

```py prompt1.3.py
text = f"""
今天阳光明媚，鸟儿在歌唱。\
这是一个去公园散步的美好日子。\
鲜花盛开，树枝在微风中轻轻摇曳。\
人们外出享受着这美好的天气，有些人在野餐，有些人在玩游戏或者在草地上放松。\
这是一个完美的日子，可以在户外度过并欣赏大自然的美景。
"""
prompt = f"""
您将获得由三个引号括起来的文本。\
如果它包含一系列的指令，则需要按照以下格式重新编写这些指令：

第一步 - ...
第二步 - …
…
第N步 - …

如果文本中不包含一系列的指令，则直接写“未提供步骤”。"
\"\"\"{text}\"\"\"
"""

# 输出结果
# 未提供步骤。
```

</CH.Scrollycoding>

#### 2. 给模型时间去思考
